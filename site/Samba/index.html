



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A Material Design theme for MyNotes">
      
      
      
        <meta name="author" content="Anonymous">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Samba - Material Design for MyNotes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.750b69bd.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../manifest.webmanifest">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-131093963-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="light-green">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Material Design for MyNotes" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Material Design for MyNotes
            </span>
            <span class="md-header-nav__topic">
              Samba
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Black-Gold/MyNotes/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Black-Gold/MyNotes
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Material Design for MyNotes" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Material Design for MyNotes
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Black-Gold/MyNotes/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Black-Gold/MyNotes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Vim/" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      ProgramLanguages
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        ProgramLanguages
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../BREs/" title="BREs" class="md-nav__link">
      BREs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Shell/" title="Shell" class="md-nav__link">
      Shell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python3/" title="Python3" class="md-nav__link">
      Python3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lua/" title="Lua" class="md-nav__link">
      Lua
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Go/" title="Go" class="md-nav__link">
      Go
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Linux&WinServer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Linux&WinServer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Linux/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Utilities/" title="Iproute2&Net-tools" class="md-nav__link">
      Iproute2&Net-tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Iptables/" title="Iptables" class="md-nav__link">
      Iptables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Firewalld/" title="Firewalld" class="md-nav__link">
      Firewalld
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Windows/" title="WindowsServer" class="md-nav__link">
      WindowsServer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      DevOps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Ansible/" title="Ansible" class="md-nav__link">
      Ansible
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Apollo/" title="Apollo" class="md-nav__link">
      Apollo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      WebServer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        WebServer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Nginx/" title="Nginx&Unit" class="md-nav__link">
      Nginx&Unit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Apache/" title="Apache&PHP-FPM" class="md-nav__link">
      Apache&PHP-FPM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Tomcat/" title="Tomcat" class="md-nav__link">
      Tomcat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../WildFly.md" title="WildFly" class="md-nav__link">
      WildFly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Caddy/" title="Caddy" class="md-nav__link">
      Caddy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      OptimisingWebDelivery
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        OptimisingWebDelivery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Squid/" title="Squid" class="md-nav__link">
      Squid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Varnish/" title="Varnish" class="md-nav__link">
      Varnish
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Stunnel/" title="Stunnel" class="md-nav__link">
      Stunnel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../TrafficServer/" title="ApacheTrafficServer" class="md-nav__link">
      ApacheTrafficServer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      CI&DC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        CI&DC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Git/" title="Git&GitLab" class="md-nav__link">
      Git&GitLab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Jenkins/" title="Jenkins" class="md-nav__link">
      Jenkins
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Database
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Database
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../MySQL/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MariaDB/" title="MariaDB" class="md-nav__link">
      MariaDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Oracle/" title="Oracle" class="md-nav__link">
      Oracle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Redis/" title="Redis" class="md-nav__link">
      Redis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Memcached/" title="Memcached" class="md-nav__link">
      Memcached
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MongoDB/" title="MongoDB" class="md-nav__link">
      MongoDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../PostgreSQL/" title="PostgreSQL" class="md-nav__link">
      PostgreSQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../BigData/" title="BigData" class="md-nav__link">
      BigData
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      LB&HA
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        LB&HA
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../LVS/" title="LVS" class="md-nav__link">
      LVS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Haproxy/" title="HAProxy" class="md-nav__link">
      HAProxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Traefik/" title="Traefik" class="md-nav__link">
      Traefik
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Envoy/" title="Envoy" class="md-nav__link">
      Envoy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      MessageQueue
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        MessageQueue
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ActiveMQ/" title="ActiveMQ" class="md-nav__link">
      ActiveMQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ActiveMQApollo/" title="TheNextGeneration_ActimveMQ" class="md-nav__link">
      TheNextGeneration_ActimveMQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Kafka/" title="Kafka" class="md-nav__link">
      Kafka
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../RabbitMQ/" title="RabbitMQ" class="md-nav__link">
      RabbitMQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      ContainerEcosystem
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        ContainerEcosystem
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Kubernetes/" title="Kubernetes" class="md-nav__link">
      Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../OKD/" title="OKD" class="md-nav__link">
      OKD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Coreos/" title="ContainerOS" class="md-nav__link">
      ContainerOS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Monitor
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Monitor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Zabbix/" title="Zabbix" class="md-nav__link">
      Zabbix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Elk/" title="ELKStack" class="md-nav__link">
      ELKStack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Prometheus/" title="Prometheus" class="md-nav__link">
      Prometheus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Grafana/" title="Grafana" class="md-nav__link">
      Grafana
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Nagios/" title="Nagios" class="md-nav__link">
      Nagios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Monitors/" title="SomelseMonitors" class="md-nav__link">
      SomelseMonitors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      FileSystem
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        FileSystem
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Ceph/" title="Ceph" class="md-nav__link">
      Ceph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../GlusterFS/" title="GlusterFS" class="md-nav__link">
      GlusterFS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Network
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Network
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Cisco/" title="Cisco" class="md-nav__link">
      Cisco
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../HW3C/" title="Huawei&H3C" class="md-nav__link">
      Huawei&H3C
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      CrossGFW
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        CrossGFW
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../VPN/" title="VPN" class="md-nav__link">
      VPN
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17">
    
    <label class="md-nav__link" for="nav-17">
      Security
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-17">
        Security
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Snort/" title="Snort" class="md-nav__link">
      Snort
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18">
    
    <label class="md-nav__link" for="nav-18">
      TreasureTheLeisure
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-18">
        TreasureTheLeisure
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../GoogleTricks/" title="GoogleTricks" class="md-nav__link">
      GoogleTricks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Voip/" title="Voip" class="md-nav__link">
      Voip
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Raspberrypi/" title="Raspberrypi" class="md-nav__link">
      Raspberrypi
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Black-Gold/MyNotes/edit/master/docs/Samba.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Samba</h1>
                
                <p>samba服务器是连接unix类系统和windows类系统的桥梁，可以通过samba实现文件的共享。</p>
<p>1.安装samba服务器在linux上：
yum install samba -y
yum install samba-common -y</p>
<p>2.在linux上创建共享文件夹：
mkdir public
sudo chmod 777 public</p>
<p>3.配置samba的配置文件，将共享文件夹路径添加到里面
sudo cp /etc/samba/smb.conf /etc/samba/smb.conf_backup //备份源文件
vi /etc/samba/smb.conf  //编辑源文件，具体内同如下</p>
<p>在文件的末尾，添加一下内容
[share]  //可以任意定，最后将会作为文件夹名字
comment = Share Folder by youyou  //相当于备注
path = /home/youyou/public   //共享文件夹所在路径
browseable = yes  //是否可被访问
writable = yes  //是否可写
read only = no  //只读文件？
guest ok = no  //游客可否访问
create mask = 0700  //必写 用于指定被远程端创建的文件的权限</p>
<p>4.创建文件samba用户文件
sudo touch /etc/samba/smbpasswd</p>
<p>5.为当前用户创建samba服务登陆账户
sudo smbpasswd -a youyou
此处会提醒你设置密码</p>
<p>如果要删除某个samba用户可以使用：
sudo smbpasswd -x youyou</p>
<p>现在可以通过账户名：youyou 密码：自己刚才设置的进行访问了
附上smb.conf 文件的全部内容</p>
<div class="codehilite"><pre><span></span><span class="err">#</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">Sample</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">suite</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Debian</span><span class="w"> </span><span class="n">GNU</span><span class="o">/</span><span class="n">Linux</span><span class="p">.</span><span class="w"></span>
<span class="err">#</span><span class="w"></span>
<span class="err">#</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">file</span><span class="p">.</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">smb</span><span class="p">.</span><span class="n">conf</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">understand</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">listed</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">here</span><span class="p">.</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">huge</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">configurable</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">which</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">example</span><span class="w"></span>
<span class="err">#</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="ow">Some</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">often</span><span class="w"> </span><span class="n">worth</span><span class="w"> </span><span class="n">tuning</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">commented</span><span class="o">-</span><span class="k">out</span><span class="w"> </span><span class="n">examples</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">file</span><span class="p">.</span><span class="w"></span>
<span class="err">#</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="k">When</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">commented</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="ss">&quot;;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proposed</span><span class="w"> </span><span class="n">setting</span><span class="w"></span>
<span class="err">#</span><span class="w">    </span><span class="n">differs</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">behaviour</span><span class="w"></span>
<span class="err">#</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="k">When</span><span class="w"> </span><span class="n">commented</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="ss">&quot;#&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proposed</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">default</span><span class="w"></span>
<span class="err">#</span><span class="w">    </span><span class="n">behaviour</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">option</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">important</span><span class="w"></span>
<span class="err">#</span><span class="w">    </span><span class="n">enough</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">mentioned</span><span class="w"> </span><span class="n">here</span><span class="w"></span>
<span class="err">#</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="nl">NOTE</span><span class="p">:</span><span class="w"> </span><span class="k">Whenever</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">command</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="ss">&quot;testparm&quot;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="ow">any</span><span class="w"> </span><span class="n">basic</span><span class="w"> </span><span class="n">syntactic</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">errors</span><span class="p">.</span><span class="w"></span>

<span class="err">#</span><span class="o">=======================</span><span class="w"> </span><span class="k">Global</span><span class="w"> </span><span class="n">Settings</span><span class="w"> </span><span class="o">=======================</span><span class="w"></span>

<span class="o">[</span><span class="n">global</span><span class="o">]</span><span class="w"></span>

<span class="err">##</span><span class="w"> </span><span class="n">Browsing</span><span class="o">/</span><span class="n">Identification</span><span class="w"> </span><span class="err">###</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Change</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">workgroup</span><span class="o">/</span><span class="n">NT</span><span class="o">-</span><span class="k">domain</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="k">of</span><span class="w"></span>
<span class="n">workgroup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WORKGROUP</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">NT</span><span class="w"> </span><span class="n">Description</span><span class="w"> </span><span class="n">field</span><span class="w"></span>
<span class="n">server</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">%</span><span class="n">h</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p">(</span><span class="n">Samba</span><span class="p">,</span><span class="w"> </span><span class="n">Ubuntu</span><span class="p">)</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Windows</span><span class="w"> </span><span class="n">Internet</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">Serving</span><span class="w"> </span><span class="n">Support</span><span class="w"> </span><span class="k">Section</span><span class="err">:</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">WINS</span><span class="w"> </span><span class="n">Support</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Tells</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">NMBD</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">WINS</span><span class="w"> </span><span class="n">Server</span><span class="w"></span>
<span class="err">#</span><span class="w">   </span><span class="n">wins</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">no</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">WINS</span><span class="w"> </span><span class="n">Server</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Tells</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">NMBD</span><span class="w"> </span><span class="n">components</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WINS</span><span class="w"> </span><span class="n">Client</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="nl">Note</span><span class="p">:</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WINS</span><span class="w"> </span><span class="n">Server</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WINS</span><span class="w"> </span><span class="n">Client</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">NOT</span><span class="w"> </span><span class="k">both</span><span class="w"></span>
<span class="p">;</span><span class="w">   </span><span class="n">wins</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">x</span><span class="p">.</span><span class="n">y</span><span class="p">.</span><span class="n">z</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">nmbd</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">search</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">NetBIOS</span><span class="w"> </span><span class="k">names</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">DNS</span><span class="p">.</span><span class="w"></span>
<span class="n">dns</span><span class="w"> </span><span class="n">proxy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">no</span><span class="w"></span>

<span class="err">####</span><span class="w"> </span><span class="n">Networking</span><span class="w"> </span><span class="err">####</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="k">specific</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="k">to</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="o">/</span><span class="n">netmask</span><span class="p">;</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="k">names</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">preferred</span><span class="w"></span>
<span class="p">;</span><span class="w">   </span><span class="n">interfaces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">127.0.0.0</span><span class="o">/</span><span class="mi">8</span><span class="w"> </span><span class="n">eth0</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="k">Only</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span><span class="w"> </span><span class="n">networks</span><span class="p">;</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="s1">&#39;interfaces&#39;</span><span class="w"> </span><span class="k">option</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">feature</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">protected</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="n">itself</span><span class="p">.</span><span class="w">  </span><span class="n">However</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">option</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="k">dynamic</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">broadcast</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="n">correctly</span><span class="p">.</span><span class="w"></span>
<span class="p">;</span><span class="w">   </span><span class="n">bind</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>



<span class="err">####</span><span class="w"> </span><span class="n">Debugging</span><span class="o">/</span><span class="n">Accounting</span><span class="w"> </span><span class="err">####</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="n">machine</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">connects</span><span class="w"></span>
<span class="nf">log</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="nf">var</span><span class="o">/</span><span class="nf">log</span><span class="o">/</span><span class="n">samba</span><span class="o">/</span><span class="nf">log</span><span class="p">.</span><span class="o">%</span><span class="n">m</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Cap</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="p">(</span><span class="ow">in</span><span class="w"> </span><span class="n">KiB</span><span class="p">).</span><span class="w"></span>
<span class="nf">max</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s1">&#39;yes&#39;</span><span class="p">.</span><span class="w"></span>
<span class="err">#</span><span class="w">   </span><span class="n">syslog</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">no</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">We</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">syslog</span><span class="p">.</span><span class="w"> </span><span class="n">Everything</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">go</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="o">/</span><span class="nf">var</span><span class="o">/</span><span class="nf">log</span><span class="o">/</span><span class="n">samba</span><span class="o">/</span><span class="nf">log</span><span class="p">.</span><span class="err">{</span><span class="n">smbd</span><span class="p">,</span><span class="n">nmbd</span><span class="err">}</span><span class="w"> </span><span class="n">instead</span><span class="p">.</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nf">log</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">higher</span><span class="p">.</span><span class="w"></span>
<span class="n">syslog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">sensible</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="nl">crashes</span><span class="p">:</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span><span class="w"></span>
<span class="n">panic</span><span class="w"> </span><span class="k">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">samba</span><span class="o">/</span><span class="n">panic</span><span class="o">-</span><span class="k">action</span><span class="w"> </span><span class="o">%</span><span class="n">d</span><span class="w"></span>


<span class="err">#######</span><span class="w"> </span><span class="n">Authentication</span><span class="w"> </span><span class="err">#######</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Server</span><span class="w"> </span><span class="k">role</span><span class="p">.</span><span class="w"> </span><span class="n">Defines</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">operate</span><span class="p">.</span><span class="w"> </span><span class="n">Possible</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="ss">&quot;standalone server&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;member server&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;classic primary</span>
<span class="ss"># domain controller&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;classic backup domain controller&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;active</span>
<span class="ss"># directory domain controller&quot;</span><span class="p">.</span><span class="w"></span>
<span class="err">#</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">Most</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="ss">&quot;standalone sever&quot;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ss">&quot;member server&quot;</span><span class="p">.</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="ss">&quot;active directory domain controller&quot;</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">require</span><span class="w"> </span><span class="k">first</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="ss">&quot;samba-tool domain provision&quot;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">wipe</span><span class="w"> </span><span class="n">databases</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">a</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">domain</span><span class="p">.</span><span class="w"></span>
<span class="n">server</span><span class="w"> </span><span class="k">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">standalone</span><span class="w"> </span><span class="n">server</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">encrypted</span><span class="w"> </span><span class="n">passwords</span><span class="p">,</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">what</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="k">using</span><span class="p">.</span><span class="w">  </span>
<span class="n">passdb</span><span class="w"> </span><span class="n">backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tdbsam</span><span class="w"></span>

<span class="n">obey</span><span class="w"> </span><span class="n">pam</span><span class="w"> </span><span class="n">restrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">boolean</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">Samba</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Unix</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">SMB</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">encrypted</span><span class="w"> </span><span class="n">SMB</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">passdb</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">changed</span><span class="p">.</span><span class="w"></span>
<span class="n">unix</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="k">For</span><span class="w"> </span><span class="n">Unix</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">work</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Debian</span><span class="w"> </span><span class="n">GNU</span><span class="o">/</span><span class="n">Linux</span><span class="w"> </span><span class="k">system</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="n">thanks</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">Ian</span><span class="w"> </span><span class="n">Kahan</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">kahan</span><span class="nv">@informatik</span><span class="p">.</span><span class="n">tu</span><span class="o">-</span><span class="n">muenchen</span><span class="p">.</span><span class="n">de</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">chat</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">passwd</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">Debian</span><span class="w"> </span><span class="n">Sarge</span><span class="p">).</span><span class="w"></span>
<span class="n">passwd</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">passwd</span><span class="w"> </span><span class="o">%</span><span class="n">u</span><span class="w"></span>
<span class="n">passwd</span><span class="w"> </span><span class="n">chat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">Enter</span><span class="err">\</span><span class="n">snew</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="err">\</span><span class="nl">spassword</span><span class="p">:</span><span class="o">*</span><span class="w"> </span><span class="o">%</span><span class="n">n</span><span class="err">\</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="n">Retype</span><span class="err">\</span><span class="n">snew</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="err">\</span><span class="nl">spassword</span><span class="p">:</span><span class="o">*</span><span class="w"> </span><span class="o">%</span><span class="n">n</span><span class="err">\</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="n">password</span><span class="err">\</span><span class="n">supdated</span><span class="err">\</span><span class="n">ssuccessfully</span><span class="o">*</span><span class="w"> </span><span class="p">.</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">boolean</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">PAM</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">changes</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">SMB</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="ow">in</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="s1">&#39;passwd program&#39;</span><span class="p">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="s1">&#39;no&#39;</span><span class="p">.</span><span class="w"></span>
<span class="n">pam</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">option</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">unsuccessful</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">mapped</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">anonymous</span><span class="w"> </span><span class="n">connections</span><span class="w"></span>
<span class="k">map</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">guest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bad</span><span class="w"> </span><span class="k">user</span><span class="w"></span>

<span class="err">##########</span><span class="w"> </span><span class="n">Domains</span><span class="w"> </span><span class="err">###########</span><span class="w"></span>

<span class="err">#</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;server role = primary</span>
<span class="s1"># classic domain controller&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;server role = backup domain controller&#39;</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;domain logons&#39;</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
<span class="err">#</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">user</span><span class="s1">&#39;s</span>
<span class="s1"># profile directory from the client point of view) The following</span>
<span class="s1"># required a [profiles] share to be setup on the samba server (see</span>
<span class="s1"># below)</span>
<span class="s1">;   logon path = \\%N\profiles\%U</span>
<span class="s1"># Another common choice is storing the profile in the user&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">home</span><span class="w"> </span><span class="n">directory</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">Samba</span><span class="s1">&#39;s default)</span>
<span class="s1">#   logon path = \\%N\%U\profile</span>

<span class="s1"># The following setting only takes effect if &#39;</span><span class="k">domain</span><span class="w"> </span><span class="n">logons</span><span class="s1">&#39; is set</span>
<span class="s1"># It specifies the location of a user&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">home</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="p">(</span><span class="k">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">view</span><span class="p">)</span><span class="w"></span>
<span class="p">;</span><span class="w">   </span><span class="n">logon</span><span class="w"> </span><span class="n">drive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nl">H</span><span class="p">:</span><span class="w"></span>
<span class="err">#</span><span class="w">   </span><span class="n">logon</span><span class="w"> </span><span class="n">home</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">\\</span><span class="o">%</span><span class="n">N</span><span class="err">\</span><span class="o">%</span><span class="n">U</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;domain logons&#39;</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">logon</span><span class="p">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">stored</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">[</span><span class="n">netlogon</span><span class="o">]</span><span class="w"> </span><span class="n">share</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="nl">NOTE</span><span class="p">:</span><span class="w"> </span><span class="n">Must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="s1">&#39;DOS&#39;</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="n">convention</span><span class="w"></span>
<span class="p">;</span><span class="w">   </span><span class="n">logon</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">logon</span><span class="p">.</span><span class="n">cmd</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">Unix</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">domain</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">SAMR</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">RPC</span><span class="w"> </span><span class="n">pipe</span><span class="p">.</span><span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">creates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">Unix</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">password</span><span class="p">;</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">adapt</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">needs</span><span class="w"></span>
<span class="p">;</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">adduser</span><span class="w"> </span><span class="c1">--quiet --disabled-password --gecos &quot;&quot; %u</span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">accounts</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">domain</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">SAMR</span><span class="w"> </span><span class="n">RPC</span><span class="w"> </span><span class="n">pipe</span><span class="p">.</span><span class="w">  </span>
<span class="err">#</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ss">&quot;machines&quot;</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="ow">exists</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">system</span><span class="w"></span>
<span class="p">;</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">script</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">useradd</span><span class="w"> </span><span class="o">-</span><span class="n">g</span><span class="w"> </span><span class="n">machines</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="ss">&quot;%u machine account&quot;</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="o">/</span><span class="nf">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">samba</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="k">false</span><span class="w"> </span><span class="o">%</span><span class="n">u</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">Unix</span><span class="w"> </span><span class="n">groups</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">domain</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">SAMR</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">RPC</span><span class="w"> </span><span class="n">pipe</span><span class="p">.</span><span class="w">  </span>
<span class="p">;</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">addgroup</span><span class="w"> </span><span class="c1">--force-badname %g</span>

<span class="err">############</span><span class="w"> </span><span class="n">Misc</span><span class="w"> </span><span class="err">############</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">customise</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">configuration</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">basis</span><span class="p">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="o">%</span><span class="n">m</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">netbios</span><span class="w"> </span><span class="n">name</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">connecting</span><span class="w"></span>
<span class="p">;</span><span class="w">   </span><span class="k">include</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">samba</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">smb</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="o">%</span><span class="n">m</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="ow">Some</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">winbind</span><span class="w"> </span><span class="p">(</span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">you</span><span class="s1">&#39;re not using the ranges</span>
<span class="s1"># for something else.)</span>
<span class="s1">;   idmap uid = 10000-20000</span>
<span class="s1">;   idmap gid = 10000-20000</span>
<span class="s1">;   template shell = /bin/bash</span>

<span class="s1"># Setup usershare options to enable non-root users to share folders</span>
<span class="s1"># with the net usershare command.</span>

<span class="s1"># Maximum number of usershare. 0 (default) means that usershare is disabled.</span>
<span class="s1">;   usershare max shares = 100</span>

<span class="s1"># Allow users who&#39;</span><span class="n">ve</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">granted</span><span class="w"> </span><span class="n">usershare</span><span class="w"> </span><span class="k">privileges</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">create</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">shares</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">ones</span><span class="w"></span>
<span class="n">usershare</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">guests</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>

<span class="err">#</span><span class="o">=======================</span><span class="w"> </span><span class="n">Share</span><span class="w"> </span><span class="n">Definitions</span><span class="w"> </span><span class="o">=======================</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Un</span><span class="o">-</span><span class="n">comment</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="p">(</span><span class="ow">and</span><span class="w"> </span><span class="n">tweak</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">suit</span><span class="p">)</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">home</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">shares</span><span class="p">.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="k">each</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">user</span><span class="s1">&#39;s home directory as \\server\username</span>
<span class="s1">;[homes]</span>
<span class="s1">;   comment = Home Directories</span>
<span class="s1">;   browseable = no</span>

<span class="s1"># By default, the home directories are exported read-only. Change the</span>
<span class="s1"># next parameter to &#39;</span><span class="k">no</span><span class="s1">&#39; if you want to be able to write to them.</span>
<span class="s1">;   read only = yes</span>

<span class="s1"># File creation mask is set to 0700 for security reasons. If you want to</span>
<span class="s1"># create files with group=rw permissions, set next parameter to 0775.</span>
<span class="s1">;   create mask = 0700</span>

<span class="s1"># Directory creation mask is set to 0700 for security reasons. If you want to</span>
<span class="s1"># create dirs. with group=rw permissions, set next parameter to 0775.</span>
<span class="s1">;   directory mask = 0700</span>

<span class="s1"># By default, \\server\username shares can be connected to by anyone</span>
<span class="s1"># with access to the samba server.</span>
<span class="s1"># Un-comment the following parameter to make sure that only &quot;username&quot;</span>
<span class="s1"># can connect to \\server\username</span>
<span class="s1"># This might need tweaking when using external authentication schemes</span>
<span class="s1">;   valid users = %S</span>

<span class="s1"># Un-comment the following and create the netlogon directory for Domain Logons</span>
<span class="s1"># (you need to configure Samba to act as a domain controller too.)</span>
<span class="s1">;[netlogon]</span>
<span class="s1">;   comment = Network Logon Service</span>
<span class="s1">;   path = /home/samba/netlogon</span>
<span class="s1">;   guest ok = yes</span>
<span class="s1">;   read only = yes</span>

<span class="s1"># Un-comment the following and create the profiles directory to store</span>
<span class="s1"># users profiles (see the &quot;logon path&quot; option above)</span>
<span class="s1"># (you need to configure Samba to act as a domain controller too.)</span>
<span class="s1"># The path below should be writable by all users so that their</span>
<span class="s1"># profile directory may be created the first time they log on</span>
<span class="s1">;[profiles]</span>
<span class="s1">;   comment = Users profiles</span>
<span class="s1">;   path = /home/samba/profiles</span>
<span class="s1">;   guest ok = no</span>
<span class="s1">;   browseable = no</span>
<span class="s1">;   create mask = 0600</span>
<span class="s1">;   directory mask = 0700</span>

<span class="s1">[printers]</span>
<span class="s1">comment = All Printers</span>
<span class="s1">browseable = no</span>
<span class="s1">path = /var/spool/samba</span>
<span class="s1">printable = yes</span>
<span class="s1">guest ok = no</span>
<span class="s1">read only = no</span>
<span class="s1">create mask = 0700</span>

<span class="s1"># Windows clients look for this share name as a source of downloadable</span>
<span class="s1"># printer drivers</span>
<span class="s1">[print$]</span>
<span class="s1">comment = Printer Drivers</span>
<span class="s1">path = /var/lib/samba/printers</span>
<span class="s1">browseable = yes</span>
<span class="s1">writable = yes</span>
<span class="s1">read only = yes</span>
<span class="s1">guest ok = no</span>
<span class="s1"># Uncomment to allow remote administration of Windows print drivers.</span>
<span class="s1"># You may need to replace &#39;</span><span class="n">lpadmin</span><span class="err">&#39;</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="n">your</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">members</span><span class="w"> </span><span class="k">of</span><span class="p">.</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">Please</span><span class="w"> </span><span class="n">note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">appropriate</span><span class="w"> </span><span class="n">Unix</span><span class="w"> </span><span class="nf">permissions</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="k">write</span><span class="w"> </span><span class="n">rights</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">it</span><span class="w"></span>
<span class="p">;</span><span class="w">   </span><span class="k">write</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="nv">@lpadmin</span><span class="w"></span>

<span class="o">[</span><span class="n">share</span><span class="o">]</span><span class="w"></span>
<span class="n">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Share</span><span class="w"> </span><span class="n">Folder</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">youyou</span><span class="w"></span>
<span class="k">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">youyou</span><span class="o">/</span><span class="k">public</span><span class="w"></span>
<span class="n">browseable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="n">writable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="k">read</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">no</span><span class="w"></span>
<span class="n">guest</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">no</span><span class="w"></span>
<span class="k">create</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0700</span><span class="w"></span>

<span class="o">[</span><span class="n">it</span><span class="o">]</span><span class="w"></span>

<span class="w">    </span><span class="k">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">it</span><span class="w"></span>
<span class="w">    </span><span class="n">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pasta</span><span class="w"> </span><span class="n">IT</span><span class="w"></span>
<span class="w">    </span><span class="n">browseable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="w">    </span><span class="k">create</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="n">writeable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="w">    </span><span class="n">directory</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="n">force</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="k">map</span><span class="w"> </span><span class="n">acl</span><span class="w"> </span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>

<span class="o">[</span><span class="n">hr</span><span class="o">]</span><span class="w"></span>

<span class="w">    </span><span class="k">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">hr</span><span class="w"></span>
<span class="w">    </span><span class="n">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pasta</span><span class="w"> </span><span class="n">HR</span><span class="w"></span>
<span class="w">    </span><span class="n">browseable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="w">    </span><span class="k">create</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="n">writeable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="w">    </span><span class="n">directory</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="n">force</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="k">map</span><span class="w"> </span><span class="n">acl</span><span class="w"> </span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>

<span class="o">[</span><span class="n">commercial</span><span class="o">]</span><span class="w"></span>

<span class="w">    </span><span class="k">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">commercial</span><span class="w"></span>
<span class="w">    </span><span class="n">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pasta</span><span class="w"> </span><span class="n">Commercial</span><span class="w"></span>
<span class="w">    </span><span class="n">browseable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="w">    </span><span class="k">create</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="n">writeable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
<span class="w">    </span><span class="n">directory</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="n">force</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0770</span><span class="w"></span>
<span class="w">    </span><span class="k">map</span><span class="w"> </span><span class="n">acl</span><span class="w"> </span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yes</span><span class="w"></span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Black-Gold" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://www.instagram.com/black0gold/" class="md-footer-social__link fa fa-instagram"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.39abc4af.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>